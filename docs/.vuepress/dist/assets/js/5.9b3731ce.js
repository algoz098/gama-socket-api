(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{210:function(t,a,e){"use strict";e.r(a);var s=e(2),r=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"gama-socket-stack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gama-socket-stack","aria-hidden":"true"}},[t._v("#")]),t._v(" Gama Socket Stack")]),t._v(" "),e("h2",{attrs:{id:"about"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#about","aria-hidden":"true"}},[t._v("#")]),t._v(" About")]),t._v(" "),e("p",[t._v("It's a prototype project for creating a entire platform for mounting several websites for multiples envirionments.")]),t._v(" "),e("h3",{attrs:{id:"how"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how","aria-hidden":"true"}},[t._v("#")]),t._v(" How?")]),t._v(" "),e("p",[t._v("TL;DR: Has all the information for the pages.")]),t._v(" "),e("p",[t._v("It will hold the information for the each envirioment. It will have the dinamic data for several pages in that case, and each page will have several components for mount the pages.")]),t._v(" "),e("h3",{attrs:{id:"client-server-comunication"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#client-server-comunication","aria-hidden":"true"}},[t._v("#")]),t._v(" Client/Server comunication")]),t._v(" "),e("p",[t._v("For now we have the API and the Frontend.")]),t._v(" "),e("p",[t._v("The API has two interfaces: REST API and Socket")]),t._v(" "),e("p",[t._v("The Frontend uses VueJS with SSR. It will prefetch the data if needed. And then uses the socket for real time, faster loading, better usability, and so on.")]),t._v(" "),e("h1",{attrs:{id:"documentation-for-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#documentation-for-api","aria-hidden":"true"}},[t._v("#")]),t._v(" Documentation for API")]),t._v(" "),e("h2",{attrs:{id:"rest-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rest-api","aria-hidden":"true"}},[t._v("#")]),t._v(" REST API")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Before you start")]),t._v(" "),e("p",[t._v("Every endpoint will use you api base url.")]),t._v(" "),e("p",[t._v("If you did not change the env variable for your project it will be:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("http://localhost:3001/\n")])])])]),t._v(" "),e("h3",{attrs:{id:"login"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#login","aria-hidden":"true"}},[t._v("#")]),t._v(" Login")]),t._v(" "),e("p",[t._v("Generate a valid auth token")]),t._v(" "),e("p",[t._v("HTTP Request:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST: /api/v1/users/login\n")])])]),e("p",[t._v("Request Parameters:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Expected")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Descripion")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("email")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Valid email")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("A valid email for registered user")])]),t._v(" "),e("tr",[e("td",[t._v("password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Min: 3, Max: 30")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The valid password for the email")])])])]),t._v(" "),e("p",[t._v("Response Example:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("eyJhbGciOiJIUzI"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("NiJ"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.")]),t._v("IjVjYzYwYTU"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("NDU"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("NmZiMzYwODNiN"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("UzYiI.c"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("Dj"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("isfj"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("T_BkpLTqv"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("cr"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("URKe"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("CB-qjft"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("rL"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("lurU\n")])])]),e("h3",{attrs:{id:"me"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#me","aria-hidden":"true"}},[t._v("#")]),t._v(" Me")]),t._v(" "),e("p",[t._v("Return the user's data")]),t._v(" "),e("p",[t._v("HTTP Request:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET: /api/v1/users/me\n")])])]),e("p",[t._v("Response Example:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"artur"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"algoz098@gmail.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"env"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"environment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#environment","aria-hidden":"true"}},[t._v("#")]),t._v(" Environment")]),t._v(" "),e("p",[t._v("Returns the environment's information")]),t._v(" "),e("p",[t._v("HTTP Request:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET: /api/v1/environment/:env\n")])])]),e("p",[t._v("Query Parameters:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Default")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Descripion")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("env")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("DEFAULT_ENV")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("If null will return the env's variable : DEFAULT_ENV")])])])]),t._v(" "),e("p",[t._v("Response Example:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webgs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"urls"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webgs.com.br"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"colors"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accent"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"color"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pink"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pages"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"route"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"componets"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"templateFile"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"socket-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-api","aria-hidden":"true"}},[t._v("#")]),t._v(" Socket API")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[t._v("We are using Socket.IO")])]),t._v(" "),e("h3",{attrs:{id:"login-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#login-2","aria-hidden":"true"}},[t._v("#")]),t._v(" login")]),t._v(" "),e("p",[t._v("Generate a valid auth token")]),t._v(" "),e("p",[t._v("Socket Client Request:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("EMIT: login\n")])])]),e("p",[t._v("Request Parameters:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Expected")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Descripion")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("email")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Valid email")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("A valid email for registered user")])]),t._v(" "),e("tr",[e("td",[t._v("password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Min: 3, Max: 30")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The valid password for the email")])])])]),t._v(" "),e("p",[t._v("Socket Server Emit Example:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("EMIT: token\nRESPONSE : eyJhbGciOiJIUzI1NiJ9.IjVjYzYwYTU2NDU1NmZiMzYwODNiN2UzYiI.c8Dj7isfj7T_BkpLTqv0cr6URKe3CB-qjft8rL6lurU\n")])])]),e("h3",{attrs:{id:"me-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#me-2","aria-hidden":"true"}},[t._v("#")]),t._v(" me")]),t._v(" "),e("p",[t._v("Return the user's data")]),t._v(" "),e("p",[t._v("Socket Client Request:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("EMIT: me\n")])])]),e("p",[t._v("Request Parameters:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Expected")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Descripion")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("token")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("login token")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("If the cookie does not includes token will be searched inside the request")])])])]),t._v(" "),e("p",[t._v("Socket Server Emit Example:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('EMIT: me\nRESPONSE : \n{\n    "name": "artur",\n    "email": "algoz098@gmail.com",\n    "access": [\n        {\n            "env": "default",\n            "level": "max"\n        }\n    ],\n}\n')])])])])},[],!1,null,null,null);a.default=r.exports}}]);